# Simple workflow for deploying static content to GitHub Pages
name: Upload ttl file to data.world

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["master"]
    paths:
      - 'notes.ttl'

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "dataworld"
  cancel-in-progress: false

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3
            - name: Upload TTL
              id: upload-ttl
              uses: jmoney/dataworld-file-upload-action@main
              with:
                token: ${{ secrets.DATAWORLD_PAT }}
                agentdatasetid: "jmoney8080/ddw-catalogs"
                file: notes.ttl
